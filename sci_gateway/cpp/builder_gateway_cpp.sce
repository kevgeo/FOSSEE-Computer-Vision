// This file is released under the 3-clause BSD license. See COPYING-BSD.

names = [	
			"imread","opencv_imread";
			//"detectSURFFeatures", "opencv_detectSURFFeatures";
			//"SURFPoints", "opencv_SURFPoints";
                  //"detectBRISKFeatures", "opencv_detectBRISKFeatures";
                  //"BRISKPoints", "opencv_BRISKPoints";
                  //"VideoReader", "opencv_VideoReader";
                  "hasFrame", "has_frame";
                  "readFrame", "read_frame";
		  //"extractHOGFeatures","opencv_extractHOGFeatures";
		 //"extractFeatures","opencv_extractFeatures";
		//"matchFeatures","opencv_matchFeatures";
		//"cvtColor","opencv_cvtColor";
		//"showMatchedFeatures","opencv_showMatchedFeatures";
		"VideoReader","opencv_VideoReader";
		//"opticalFlowFarneback","opencv_opticalFlowFarneback";
		//"ForegroundDetector","opencv_ForegroundDetector";
		"KalmanFilter","opencv_KalmanFilter";
		//"readKalmanFilter","opencv_readKalmanFilter";
		//"estimateGeometricTransform","opencv_estimateGeometricTransform";
		//"convolver","opencv_convolver";
		//"warpaffine","opencv_warpaffine";
		//"isfilterseparable","opencv_isfilterseparable";
		//"epipolarlines","opencv_epipolarlines";
     		//"blur","opencv_blur";
            //"arrowedline","opencv_arrowedline";
            //"canny","opencv_canny";
            //"circle","opencv_circle";
            //"clipline","opencv_clipline";
            //"convexhull","opencv_convexhull";
            //"cornerEigenValsAndVecs","opencv_cornerEigenValsAndVecs";
            //"cornerHarris","opencv_cornerHarris";
            //"cornerMinEigenVal","opencv_cornerMinEigenVal";
            //"dilate","opencv_dilate";
            //"ellipse2poly","opencv_ellipse2poly";
            //"erode","opencv_erode";
            //"fillconvexpoly","opencv_fillconvexpoly";
            //"filter2D","opencv_filter2D";
            //"findContours","opencv_findContours";
            //"gaussianblur","opencv_gaussianblur";
            //"getStructuringElement","opencv_getStructuringElement";
            //"getTextSize","opencv_getTextSize";
            //"goodfeaturestotrack","opencv_goodfeaturestotrack";
            //"houghcircles","opencv_houghcircles";
            //"houghlines","opencv_houghlines";
            //"im2double","opencv_im2double";
            //"imcontrast","opencv_imcontrast";
            //"imcrop","opencv_imcrop";
            //"imresize","opencv_imresize";
            //"imsharpen","opencv_imsharpen";
            //"imwrite","opencv_imwrite";
            //"laplacian","opencv_laplacian";
            //"line","opencv_line";
            //"medianblur","opencv_medianblur";
            //"puttext","opencv_puttext";
            //"scharr","opencv_scharr";
            //"sobel","opencv_sobel";
            //"threshold","opencv_threshold";
            //"undistort","opencv_undistort";
            //"boundingRect","opencv_boundingRect";
            //"ellipse","opencv_ellipse";
            //"montage","opencv_montage";
            //"morphologyEx","opencv_morphologyEx";
            //"pyrDown","opencv_pyrDown";
            //"pyrUp","opencv_pyrUp";
            //"rectangle","opencv_rectangle";
            //"sepFilter2D","opencv_sepFilter2D";
            //"copymakeborder","opencv_copymakeborder";
            //"cvtColor","opencv_cvtColor";
            //"getgaussiankernel","opencv_getgaussiankernel";
            //"getrectsubpix","opencv_getrectsubpix";
            //"getrotationmatrix2D","opencv_getrotationmatrix2D";
	    //"opencv_roipoly","opencv_roipoly";
	    //"drawKeypoints","opencv_drawKeypoints";
	    //"drawMatches","opencv_drawMatches";
	    //"groupRectangles","opencv_groupRectangles";
	   "convertPointsToHomogeneous","opencv_convertPointsToHomogeneous";
	   "convertPointsFromHomogeneous","opencv_convertPointsFromHomogeneous";
	   //"correctMatches","opencv_correctMatches";
	   //"computeCorrespondEpilines","opencv_computeCorrespondEpilines";
	   //"findFundamentalMat","opencv_findFundamentalMat";
	   //"findHomography","opencv_findHomography";
	   //"filterSpeckles","opencv_filterSpeckles";
	   "matMulDeriv","opencv_matMulDeriv";
	   "estimateAffine3D","opencv_estimateAffine3D";
	   //"Rodrigues","opencv_Rodrigues";
	   //"reprojectImageTo3D","opencv_reprojectImageTo3D";
	   //"getOptimalNewCameraMatrix","opencv_getOptimalNewCameraMatrix";
	   //"projectPoints","opencv_projectPoints";
	   "initCameraMatrix2D","opencv_initCameraMatrix2D";
	   //"solvePnP","opencv_solvePnP";
	   //"solvePnPRansac","opencv_solvePnPRansac";
	   "findCirclesGrid","opencv_findCirclesGrid";
	   //->"decomposeProjectionMatrix","opencv_decomposeProjectionMatrix";
           //"RQDecomp3x3","opencv_RQDecomp3x3";
	   "findChessboardCorners","opencv_findChessboardCorners";
	   "drawChessboardCorners","opencv_drawChessboardCorners";
	    "check","opencv_check";
            //"houghlinesp","opencv_houghlinesp";
            //"demosaic", "opencv_demosaic";
            //"imfindcircles", "opencv_imfindcircles";
	    //"detectHarrisFeatures", "opencv_detectHarrisFeatures";
        //"detectMinEigenFeatures", "opencv_detectMinEigenFeatures";
        //"corner","opencv_corner";
	//"ocr","opencv_ocr";
		];

files = [
			"opencv_imread.cpp",
//"opencv_detectSURFFeatures.cpp",
//"opencv_SURFPoints.cpp",
//"opencv_detectBRISKFeatures.cpp",
//"opencv_BRISKPoints.cpp",
"opencv_VideoReader.cpp",
//"opencv_extractHOGFeatures.cpp",
//"opencv_cvtColor.cpp",
//"opencv_extractFeatures.cpp",
//"opencv_matchFeatures.cpp",
//"opencv_showMatchedFeatures.cpp",
//"opencv_VideoReader.cpp",
//"opencv_opticalFlowFarneback.cpp",
//"opencv_ForegroundDetector.cpp",
"opencv_KalmanFilter.cpp",
//"opencv_estimateGeometricTransform.cpp",
//"opencv_convolver.cpp",
//"opencv_isfilterseparable.cpp",
//"opencv_epipolarlines.cpp",		
     		//"opencv_blur.cpp",
            //"opencv_arrowedline.cpp",
            //"opencv_canny.cpp",
            //"opencv_circle.cpp",
            //"opencv_clipline.cpp",
            //"opencv_convexhull.cpp",
            //"opencv_cornerEigenValsAndVecs.cpp"
            //"opencv_cornerHarris.cpp",
            //"opencv_cornerMinEigenVal.cpp",
            //"opencv_dilate.cpp",
            //"opencv_ellipse2poly.cpp",
            //"opencv_erode.cpp",
            //"opencv_fillconvexpoly.cpp",
            //"opencv_filter2D.cpp",
            //"opencv_findContours.cpp",
            //"opencv_gaussianblur.cpp",
            //"opencv_getStructuringElement.cpp",
            //"opencv_getTextSize.cpp",
            //"opencv_goodfeaturestotrack.cpp",
            //"opencv_houghcircles.cpp",
            //"opencv_houghlines.cpp",
            //"opencv_im2double.cpp",
            //"opencv_imcontrast.cpp",
            //"opencv_imcrop.cpp",
            //"opencv_imresize.cpp",
            //"opencv_imsharpen.cpp",
            //"opencv_imwrite.cpp",
            //"opencv_laplacian.cpp",
            //"opencv_line.cpp",
            //"opencv_medianblur.cpp",
            //"opencv_puttext.cpp",
            //"opencv_scharr.cpp",
            //"opencv_sobel.cpp",
            //"opencv_threshold.cpp",
            //"opencv_undistort.cpp",
            //"opencv_boundingRect.cpp",
            //"opencv_ellipse.cpp",
            //"opencv_montage.cpp",
            //"opencv_morphologyEx.cpp",
            //"opencv_pyrDown.cpp",
            //"opencv_pyrUp.cpp",
            //"opencv_rectangle.cpp",
            //"opencv_sepFilter2D.cpp",
            //"opencv_copymakeborder.cpp",
            //"opencv_cvtColor.cpp",
            //"opencv_getgaussiankernel.cpp",
            //"opencv_getrectsubpix.cpp",
           // "opencv_getrotationmatrix2D.cpp",
	   //"opencv_warpaffine.cpp",
	  //"opencv_roipoly.cpp",
	  //"opencv_drawKeypoints.cpp",
	  //"opencv_drawMatches.cpp",
	  //"opencv_groupRectangles.cpp",
	  "opencv_convertPointsToHomogeneous.cpp",
	  "opencv_convertPointsFromHomogeneous.cpp",
	  //"opencv_correctMatches.cpp",
	  //"opencv_computeCorrespondEpilines.cpp",
	  //"opencv_findFundamentalMat.cpp",
	  //"opencv_findHomography.cpp",
	  //"opencv_filterSpeckles.cpp",
	  "opencv_matMulDeriv.cpp",
	  "opencv_estimateAffine3D.cpp",
	  //"opencv_Rodrigues.cpp",
	  //"opencv_reprojectImageTo3D.cpp",
	  //"opencv_getOptimalNewCameraMatrix.cpp",
	  //"opencv_projectPoints.cpp",
	  "opencv_initCameraMatrix2D.cpp",
	  //"opencv_solvePnP.cpp",
	  //"opencv_solvePnPRansac.cpp",
	  "opencv_findCirclesGrid.cpp",
	  //->"opencv_decomposeProjectionMatrix.cpp"
	  //"opencv_RQDecomp3x3.cpp",
	  "opencv_findChessboardCorners.cpp",
	  "opencv_drawChessboardCorners.cpp",
	  "opencv_check.cpp"
            //"opencv_houghlinesp.cpp",
            //"opencv_demosaic.cpp",
            //"opencv_imfindcircles.cpp",
	    //"opencv_detectHarrisFeatures.cpp",
        //"opencv_detectMinEigenFeatures.cpp",
        //"opencv_corner.cpp",
	//"opencv_ocr.cpp"
		];

function builder_gw_cpp()
    WITHOUT_AUTO_PUTLHSVAR = %t;
    copyfile("sci_gateway/cpp/common.h",TMPDIR);
    copyfile("sci_gateway/cpp/common.cpp",TMPDIR);
tbx_build_gateway("skeleton_imageprocessing", ..
	names, ..
    files, ..
    get_absolute_file_path("builder_gateway_cpp.sce"),[],["-L/usr/local/lib -lopencv_core -L/usr/local/lib -lopencv_highgui -L/usr/local/lib -lopencv_imgproc -L/usr/local/lib -lopencv_nonfree -L/usr/local/lib -lopencv_objdetect -L/usr/local/lib -lopencv_video -L/usr/local/lib -lopencv_calib3d"],["-I/usr/include/scilab -I/usr/include/opencv -I/usr/include/opencv2 "],"g++ ");	
endfunction

builder_gw_cpp();
clear builder_gw_cpp; // remove builder_gw_cpp on stack
